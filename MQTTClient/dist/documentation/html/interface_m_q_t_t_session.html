<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>MQTTClient: MQTTSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MQTTClient
   </div>
   <div id="projectbrief">an Objective-C Framework for MQTT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_m_q_t_t_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MQTTSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_m_q_t_t_session_8h_source.html">MQTTSession.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MQTTSession:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_m_q_t_t_session.png" usemap="#MQTTSession_map" alt=""/>
  <map id="MQTTSession_map" name="MQTTSession_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a6e8795caaa8f2ff1c76dcd660543d666"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e8795caaa8f2ff1c76dcd660543d666"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>CONNECT</b></td></tr>
<tr class="separator:a6e8795caaa8f2ff1c76dcd660543d666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2313f01f8e8a292be14647146f24bb5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2313f01f8e8a292be14647146f24bb5"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>DISCONNECT</b></td></tr>
<tr class="separator:ab2313f01f8e8a292be14647146f24bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee55d52a9b6395f1a0d73b672900629c"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a></td></tr>
<tr class="separator:aee55d52a9b6395f1a0d73b672900629c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace91fa3ca0b5eb08a2a48706c840dab3"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#ace91fa3ca0b5eb08a2a48706c840dab3">subscribeToTopic:atLevel:</a></td></tr>
<tr class="separator:ace91fa3ca0b5eb08a2a48706c840dab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8deb1a3c1a12c4a3924c5ebc1e97f2db"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a8deb1a3c1a12c4a3924c5ebc1e97f2db">subscribeToTopic:atLevel:subscribeHandler:</a></td></tr>
<tr class="separator:a8deb1a3c1a12c4a3924c5ebc1e97f2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90eef680e3adc29a75556e4131bdbf6"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#ad90eef680e3adc29a75556e4131bdbf6">subscribeToTopics:</a></td></tr>
<tr class="separator:ad90eef680e3adc29a75556e4131bdbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4068492603a9fb752814af4d02cc7e2"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#aa4068492603a9fb752814af4d02cc7e2">subscribeToTopics:subscribeHandler:</a></td></tr>
<tr class="separator:aa4068492603a9fb752814af4d02cc7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9b75a7232586150cbc348b1262faaf"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a0b9b75a7232586150cbc348b1262faaf">unsubscribeTopic:</a></td></tr>
<tr class="separator:a0b9b75a7232586150cbc348b1262faaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b306c66528e9887798476bccab1344"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a07b306c66528e9887798476bccab1344">unsubscribeTopic:unsubscribeHandler:</a></td></tr>
<tr class="separator:a07b306c66528e9887798476bccab1344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93b09cbe98c4b8754180e344ef7e908"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#ac93b09cbe98c4b8754180e344ef7e908">unsubscribeTopics:</a></td></tr>
<tr class="separator:ac93b09cbe98c4b8754180e344ef7e908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a101c813012ca11ff6c144db5a2c46c76"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a101c813012ca11ff6c144db5a2c46c76">unsubscribeTopics:unsubscribeHandler:</a></td></tr>
<tr class="separator:a101c813012ca11ff6c144db5a2c46c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76085443daa0ceadf01acc828c91370"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#af76085443daa0ceadf01acc828c91370">publishData:onTopic:retain:qos:</a></td></tr>
<tr class="separator:af76085443daa0ceadf01acc828c91370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a76bb9e8855104282648afa0505e625"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a1a76bb9e8855104282648afa0505e625">publishData:onTopic:retain:qos:publishHandler:</a></td></tr>
<tr class="separator:a1a76bb9e8855104282648afa0505e625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a617d3cee077dd60f48a340d4b34d99"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a5a617d3cee077dd60f48a340d4b34d99">closeWithDisconnectHandler:</a></td></tr>
<tr class="separator:a5a617d3cee077dd60f48a340d4b34d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e08af5a1b20daabe6be9b9a0618c440"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a6e08af5a1b20daabe6be9b9a0618c440">close</a></td></tr>
<tr class="separator:a6e08af5a1b20daabe6be9b9a0618c440"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a1a8eb040c4fd693c218999bae64d1281"><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a1a8eb040c4fd693c218999bae64d1281">delegate</a></td></tr>
<tr class="separator:a1a8eb040c4fd693c218999bae64d1281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2bf00e77c5f95fb0158f0ab729d1e9"><td class="memItemLeft" align="right" valign="top">MQTTPersistence *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a0d2bf00e77c5f95fb0158f0ab729d1e9">persistence</a></td></tr>
<tr class="separator:a0d2bf00e77c5f95fb0158f0ab729d1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c836110637be354f6acb52d328035e7"><td class="memItemLeft" align="right" valign="top">MQTTConnectHandler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a9c836110637be354f6acb52d328035e7">connectHandler</a></td></tr>
<tr class="separator:a9c836110637be354f6acb52d328035e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b070cb597ed0857fbf289579c10a58"><td class="memItemLeft" align="right" valign="top">void(^&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a96b070cb597ed0857fbf289579c10a58">connectionHandler</a> )(MQTTSessionEvent event)</td></tr>
<tr class="separator:a96b070cb597ed0857fbf289579c10a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0af8d5512fae0ed59e572e9566ac9940"><td class="memItemLeft" align="right" valign="top">void(^&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a0af8d5512fae0ed59e572e9566ac9940">messageHandler</a> )(NSData *message, NSString *topic)</td></tr>
<tr class="separator:a0af8d5512fae0ed59e572e9566ac9940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff1474fe186b8af3bb4cac1ccd4ff2d"><td class="memItemLeft" align="right" valign="top">MQTTSessionStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#adff1474fe186b8af3bb4cac1ccd4ff2d">status</a></td></tr>
<tr class="separator:adff1474fe186b8af3bb4cac1ccd4ff2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0712c44abf0f514feb9462779d3e2b8"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#ad0712c44abf0f514feb9462779d3e2b8">sessionPresent</a></td></tr>
<tr class="separator:ad0712c44abf0f514feb9462779d3e2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa426b344bb913f5f338cacb1844dfb6a"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#aa426b344bb913f5f338cacb1844dfb6a">clientId</a></td></tr>
<tr class="separator:aa426b344bb913f5f338cacb1844dfb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23cc4596889bf5798bf3749ee0a9e61f"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a23cc4596889bf5798bf3749ee0a9e61f">userName</a></td></tr>
<tr class="separator:a23cc4596889bf5798bf3749ee0a9e61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0d3fc1c8fbdcb39ba7c7cff8d43a5b"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a5c0d3fc1c8fbdcb39ba7c7cff8d43a5b">password</a></td></tr>
<tr class="separator:a5c0d3fc1c8fbdcb39ba7c7cff8d43a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63e148680fef0724b66218d53caba6d"><td class="memItemLeft" align="right" valign="top">UInt16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#aa63e148680fef0724b66218d53caba6d">keepAliveInterval</a></td></tr>
<tr class="separator:aa63e148680fef0724b66218d53caba6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efd9a5bcf99786f2c78d4bc957fa4aa"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a8efd9a5bcf99786f2c78d4bc957fa4aa">cleanSessionFlag</a></td></tr>
<tr class="separator:a8efd9a5bcf99786f2c78d4bc957fa4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3227d1cd407e13f1dd694cb352951d7"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#aa3227d1cd407e13f1dd694cb352951d7">willFlag</a></td></tr>
<tr class="separator:aa3227d1cd407e13f1dd694cb352951d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fd768170dd1d21800420f376d04042"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a20fd768170dd1d21800420f376d04042">willTopic</a></td></tr>
<tr class="separator:a20fd768170dd1d21800420f376d04042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10be0166d86c90591c40b79923eba9ba"><td class="memItemLeft" align="right" valign="top">NSData *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a10be0166d86c90591c40b79923eba9ba">willMsg</a></td></tr>
<tr class="separator:a10be0166d86c90591c40b79923eba9ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9cee4ec8306915190b101441f673a71"><td class="memItemLeft" align="right" valign="top">MQTTQosLevel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#af9cee4ec8306915190b101441f673a71">willQoS</a></td></tr>
<tr class="separator:af9cee4ec8306915190b101441f673a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54df13cee1ccaa0bf803304c33a3b237"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a54df13cee1ccaa0bf803304c33a3b237">willRetainFlag</a></td></tr>
<tr class="separator:a54df13cee1ccaa0bf803304c33a3b237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e20758c5f8a1f0f2bd7dac339fe88f"><td class="memItemLeft" align="right" valign="top">MQTTProtocolVersion&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a12e20758c5f8a1f0f2bd7dac339fe88f">protocolLevel</a></td></tr>
<tr class="separator:a12e20758c5f8a1f0f2bd7dac339fe88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e106f38faead00b6d9d53a77a50472"><td class="memItemLeft" align="right" valign="top">NSRunLoop *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a49e106f38faead00b6d9d53a77a50472">runLoop</a></td></tr>
<tr class="separator:a49e106f38faead00b6d9d53a77a50472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab2f0926aa51b0dc7969c66bae215e4"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a3ab2f0926aa51b0dc7969c66bae215e4">runLoopMode</a></td></tr>
<tr class="separator:a3ab2f0926aa51b0dc7969c66bae215e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f593a2857ccf22a5073a71a408e465"><td class="memItemLeft" align="right" valign="top">MQTTSSLSecurityPolicy *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a74f593a2857ccf22a5073a71a408e465">securityPolicy</a></td></tr>
<tr class="separator:a74f593a2857ccf22a5073a71a408e465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8093f2231e12c54af5eb1791cc60b06f"><td class="memItemLeft" align="right" valign="top">NSArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a8093f2231e12c54af5eb1791cc60b06f">certificates</a></td></tr>
<tr class="separator:a8093f2231e12c54af5eb1791cc60b06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f63ba3383e0e5c5bed5e051cad9d2f"><td class="memItemLeft" align="right" valign="top">MQTTMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a44f63ba3383e0e5c5bed5e051cad9d2f">connectMessage</a></td></tr>
<tr class="separator:a44f63ba3383e0e5c5bed5e051cad9d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3839efa8f1e67c2a1270a0bfa7362c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3839efa8f1e67c2a1270a0bfa7362c1"></a>
id&lt; MQTTTransport &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>transport</b></td></tr>
<tr class="separator:ab3839efa8f1e67c2a1270a0bfa7362c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Session implements the MQTT protocol for your application </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a6e08af5a1b20daabe6be9b9a0618c440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) close </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>closes an <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> gracefully </p>

</div>
</div>
<a class="anchor" id="a5a617d3cee077dd60f48a340d4b34d99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) closeWithDisconnectHandler: </td>
          <td></td>
          <td class="paramtype">(MQTTDisconnectHandler)&#160;</td>
          <td class="paramname"><em>disconnectHandler</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>closes an <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> gracefully</p>
<p>If the connection was successfully established before, a DISCONNECT is sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disconnectHandler</td><td>identifies a block which is executed on successfull or unsuccessfull disconnect. Might be nil. error is nil in the case of a successful disconnect</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line">[session closeWithDisconnectHandler^(NSError *error) {</div>
<div class="line">   <span class="keywordflow">if</span> (error) {</div>
<div class="line">       NSLog(<span class="stringliteral">@&quot;Error Disconnect %@&quot;</span>, error.localizedDescription);</div>
<div class="line">   }</div>
<div class="line">   NSLog(<span class="stringliteral">@&quot;Session closed&quot;</span>);</div>
<div class="line">}];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aee55d52a9b6395f1a0d73b672900629c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> *) init </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>initialises the MQTT session with default values </p><dl class="section return"><dt>Returns</dt><dd>the initialised <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> object <div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="af76085443daa0ceadf01acc828c91370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) publishData: </td>
          <td></td>
          <td class="paramtype">(NSData *)&#160;</td>
          <td class="paramname"><em>data</em></td>
        </tr>
        <tr>
          <td class="paramkey">onTopic:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">retain:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>retainFlag</em></td>
        </tr>
        <tr>
          <td class="paramkey">qos:</td>
          <td></td>
          <td class="paramtype">(MQTTQosLevel)&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>publishes data on a given topic at a specified QoS level and retain flag</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data to be sent. length may range from 0 to 268,435,455 - 4 - <em>lengthof-topic</em> bytes. Defaults to length 0. </td></tr>
    <tr><td class="paramname">topic</td><td>the Topic to identify the data </td></tr>
    <tr><td class="paramname">retainFlag</td><td>if YES, data is stored on the MQTT broker until overwritten by the next publish with retainFlag = YES </td></tr>
    <tr><td class="paramname">qos</td><td>specifies the Quality of Service for the publish qos can be 0, 1, or 2. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the PUBLISH message. Zero if qos 0. If qos 1 or 2, zero if message was dropped</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session publishData:[<span class="stringliteral">@&quot;Sample Data&quot;</span> dataUsingEncoding:NSUTF8StringEncoding]</div>
<div class="line">topic:<span class="stringliteral">@&quot;example/data&quot;</span></div>
<div class="line">retain:YES</div>
<div class="line">qos:1];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a1a76bb9e8855104282648afa0505e625"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) publishData: </td>
          <td></td>
          <td class="paramtype">(NSData *)&#160;</td>
          <td class="paramname"><em>data</em></td>
        </tr>
        <tr>
          <td class="paramkey">onTopic:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">retain:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>retainFlag</em></td>
        </tr>
        <tr>
          <td class="paramkey">qos:</td>
          <td></td>
          <td class="paramtype">(MQTTQosLevel)&#160;</td>
          <td class="paramname"><em>qos</em></td>
        </tr>
        <tr>
          <td class="paramkey">publishHandler:</td>
          <td></td>
          <td class="paramtype">(MQTTPublishHandler)&#160;</td>
          <td class="paramname"><em>publishHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>publishes data on a given topic at a specified QoS level and retain flag</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data to be sent. length may range from 0 to 268,435,455 - 4 - <em>lengthof-topic</em> bytes. Defaults to length 0. </td></tr>
    <tr><td class="paramname">topic</td><td>the Topic to identify the data </td></tr>
    <tr><td class="paramname">retainFlag</td><td>if YES, data is stored on the MQTT broker until overwritten by the next publish with retainFlag = YES </td></tr>
    <tr><td class="paramname">qos</td><td>specifies the Quality of Service for the publish qos can be 0, 1, or 2.</td></tr>
    <tr><td class="paramname">publishHandler</td><td>identifies a block which is executed on successfull or unsuccessfull connect. Might be nil error is nil in the case of a successful connect sessionPresent indicates in MQTT 3.1.1 if persistent session data was present at the server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the PUBLISH message. Zero if qos 0. If qos 1 or 2, zero if message was dropped</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session publishData:[<span class="stringliteral">@&quot;Sample Data&quot;</span> dataUsingEncoding:NSUTF8StringEncoding]</div>
<div class="line">topic:<span class="stringliteral">@&quot;example/data&quot;</span></div>
<div class="line">retain:YES</div>
<div class="line">qos:1];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ace91fa3ca0b5eb08a2a48706c840dab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) subscribeToTopic: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">atLevel:</td>
          <td></td>
          <td class="paramtype">(MQTTQosLevel)&#160;</td>
          <td class="paramname"><em>qosLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribes to a topic at a specific QoS level</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>see subscribeToTopic:atLevel:subscribeHandler: for description </td></tr>
    <tr><td class="paramname">qosLevel</td><td>see subscribeToTopic:atLevel:subscribeHandler: for description </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the SUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line">...</div>
<div class="line">[session subscribeToTopic:<span class="stringliteral">@&quot;example/#&quot;</span> atLevel:2];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a8deb1a3c1a12c4a3924c5ebc1e97f2db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) subscribeToTopic: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">atLevel:</td>
          <td></td>
          <td class="paramtype">(MQTTQosLevel)&#160;</td>
          <td class="paramname"><em>qosLevel</em></td>
        </tr>
        <tr>
          <td class="paramkey">subscribeHandler:</td>
          <td></td>
          <td class="paramtype">(MQTTSubscribeHandler)&#160;</td>
          <td class="paramname"><em>subscribeHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribes to a topic at a specific QoS level</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>the Topic Filter to subscribe to.</td></tr>
    <tr><td class="paramname">qosLevel</td><td>specifies the QoS Level of the subscription. qosLevel can be 0, 1, or 2. </td></tr>
    <tr><td class="paramname">subscribeHandler</td><td>identifies a block which is executed on successfull or unsuccessfull subscription. Might be nil. error is nil in the case of a successful subscription. In this case gQoss represents an array of grantes Qos</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the SUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line">...</div>
<div class="line">[session subscribeToTopic:<span class="stringliteral">@&quot;example/#&quot;</span> atLevel:2 subscribeHandler:^(NSError *error, NSArray&lt;NSNumber *&gt; *gQoss){</div>
<div class="line">   <span class="keywordflow">if</span> (error) {</div>
<div class="line">       NSLog(<span class="stringliteral">@&quot;Subscription failed %@&quot;</span>, error.localizedDescription);</div>
<div class="line">   } <span class="keywordflow">else</span> {</div>
<div class="line">       NSLog(<span class="stringliteral">@&quot;Subscription sucessfull! Granted Qos: %@&quot;</span>, gQoss);</div>
<div class="line">   }</div>
<div class="line">}];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ad90eef680e3adc29a75556e4131bdbf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) subscribeToTopics: </td>
          <td></td>
          <td class="paramtype">(NSDictionary&lt; NSString *, NSNumber * &gt; *)&#160;</td>
          <td class="paramname"><em>topics</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribes a number of topics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>an NSDictionary&lt;NSString *, NSNumber *&gt; containing the Topic Filters to subscribe to as keys and the corresponding QoS as NSNumber values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the SUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session subscribeToTopics:@{</div>
<div class="line"><span class="stringliteral">@&quot;example/#&quot;</span>: @(0),</div>
<div class="line"><span class="stringliteral">@&quot;example/status&quot;</span>: @(2),</div>
<div class="line"><span class="stringliteral">@&quot;other/#&quot;</span>: @(1)</div>
<div class="line">}];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aa4068492603a9fb752814af4d02cc7e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) <a class="el" href="interface_m_q_t_t_session.html#ad90eef680e3adc29a75556e4131bdbf6">subscribeToTopics:</a> </td>
          <td></td>
          <td class="paramtype">(NSDictionary&lt; NSString *, NSNumber * &gt; *)&#160;</td>
          <td class="paramname"><em>topics</em></td>
        </tr>
        <tr>
          <td class="paramkey">subscribeHandler:</td>
          <td></td>
          <td class="paramtype">(MQTTSubscribeHandler)&#160;</td>
          <td class="paramname"><em>subscribeHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribes a number of topics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>an NSDictionary&lt;NSString *, NSNumber *&gt; containing the Topic Filters to subscribe to as keys and the corresponding QoS as NSNumber values </td></tr>
    <tr><td class="paramname">subscribeHandler</td><td>identifies a block which is executed on successfull or unsuccessfull subscription. Might be nil. error is nil in the case of a successful subscription. In this case gQoss represents an array of grantes Qos</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the SUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session subscribeToTopics:@{</div>
<div class="line">   <span class="stringliteral">@&quot;example/#&quot;</span>: @(0),</div>
<div class="line">   <span class="stringliteral">@&quot;example/status&quot;</span>: @(2),</div>
<div class="line">   <span class="stringliteral">@&quot;other/#&quot;</span>: @(1)</div>
<div class="line">} subscribeHandler:^(NSError *error, NSArray&lt;NSNumber *&gt; *gQoss){</div>
<div class="line">   <span class="keywordflow">if</span> (error) {</div>
<div class="line">       NSLog(<span class="stringliteral">@&quot;Subscription failed %@&quot;</span>, error.localizedDescription);</div>
<div class="line">   } <span class="keywordflow">else</span> {</div>
<div class="line">       NSLog(<span class="stringliteral">@&quot;Subscription sucessfull! Granted Qos: %@&quot;</span>, gQoss);</div>
<div class="line">   }</div>
<div class="line">}];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a0b9b75a7232586150cbc348b1262faaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) unsubscribeTopic: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unsubscribes from a topic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>the Topic Filter to unsubscribe from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session unsubscribeTopic:<span class="stringliteral">@&quot;example/#&quot;</span>];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a07b306c66528e9887798476bccab1344"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) <a class="el" href="interface_m_q_t_t_session.html#a0b9b75a7232586150cbc348b1262faaf">unsubscribeTopic:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">unsubscribeHandler:</td>
          <td></td>
          <td class="paramtype">(MQTTUnsubscribeHandler)&#160;</td>
          <td class="paramname"><em>unsubscribeHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unsubscribes from a topic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>the Topic Filter to unsubscribe from. </td></tr>
    <tr><td class="paramname">unsubscribeHandler</td><td>identifies a block which is executed on successfull or unsuccessfull subscription. Might be nil. error is nil in the case of a successful subscription. In this case gQoss represents an array of grantes Qos</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. </dd></dl>

</div>
</div>
<a class="anchor" id="ac93b09cbe98c4b8754180e344ef7e908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) unsubscribeTopics: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSString * &gt; *)&#160;</td>
          <td class="paramname"><em>topics</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unsubscribes from a number of topics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>an NSArray&lt;NSString *&gt; of topics to unsubscribe from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session unsubscribeTopics:@[</div>
<div class="line"><span class="stringliteral">@&quot;example/#&quot;</span>,</div>
<div class="line"><span class="stringliteral">@&quot;example/status&quot;</span>,</div>
<div class="line"><span class="stringliteral">@&quot;other/#&quot;</span></div>
<div class="line">]];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a101c813012ca11ff6c144db5a2c46c76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) <a class="el" href="interface_m_q_t_t_session.html#ac93b09cbe98c4b8754180e344ef7e908">unsubscribeTopics:</a> </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSString * &gt; *)&#160;</td>
          <td class="paramname"><em>topics</em></td>
        </tr>
        <tr>
          <td class="paramkey">unsubscribeHandler:</td>
          <td></td>
          <td class="paramtype">(MQTTUnsubscribeHandler)&#160;</td>
          <td class="paramname"><em>unsubscribeHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unsubscribes from a number of topics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>an NSArray&lt;NSString *&gt; of topics to unsubscribe from</td></tr>
    <tr><td class="paramname">unsubscribeHandler</td><td>identifies a block which is executed on successfull or unsuccessfull subscription. Might be nil. error is nil in the case of a successful subscription. In this case gQoss represents an array of grantes Qos</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. </dd></dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a8093f2231e12c54af5eb1791cc60b06f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) certificates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a8efd9a5bcf99786f2c78d4bc957fa4aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) cleanSessionFlag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="aa426b344bb913f5f338cacb1844dfb6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) clientId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a9c836110637be354f6acb52d328035e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTConnectHandler) connectHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>block called once when connection is established </p>

</div>
</div>
<a class="anchor" id="a96b070cb597ed0857fbf289579c10a58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void(^ connectionHandler) (MQTTSessionEvent event))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>block called when connection is established </p>

</div>
</div>
<a class="anchor" id="a44f63ba3383e0e5c5bed5e051cad9d2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTMessage*) connectMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>for mqttio-OBJC backward compatibility the connect message used is stored here </p>

</div>
</div>
<a class="anchor" id="a1a8eb040c4fd693c218999bae64d1281"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (id&lt;<a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a>&gt;) delegate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">weak</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set this member variable to receive delegate messages </p><div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">@interface </span>MyClass : NSObject &lt;<a class="code" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a>&gt;</div>
<div class="line">...</div>
<div class="line"><span class="keyword">@end</span></div>
<div class="line"></div>
<div class="line">...</div>
<div class="line">MQTTSession *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] init];</div>
<div class="line">session.<a class="code" href="interface_m_q_t_t_session.html#a1a8eb040c4fd693c218999bae64d1281">delegate</a> = <span class="keyword">self</span>;</div>
<div class="line">...</div>
<div class="line">- (void)handleEvent:(<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *)session</div>
<div class="line">       <span class="keyword">event</span>:(MQTTSessionEvent)eventCode</div>
<div class="line">       error:(NSError *)error {</div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line">- (void)newMessage:(<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *)session</div>
<div class="line">       data:(NSData *)data</div>
<div class="line">       onTopic:(NSString *)topic</div>
<div class="line">       qos:(MQTTQosLevel)qos</div>
<div class="line">       retained:(BOOL)retained</div>
<div class="line">       mid:(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)mid {</div>
<div class="line">   ...</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aa63e148680fef0724b66218d53caba6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) keepAliveInterval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a0af8d5512fae0ed59e572e9566ac9940"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void(^ messageHandler) (NSData *message, NSString *topic))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>block called when message is received </p>

</div>
</div>
<a class="anchor" id="a5c0d3fc1c8fbdcb39ba7c7cff8d43a5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) password</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a0d2bf00e77c5f95fb0158f0ab729d1e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTPersistence*) persistence</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Control MQTT persistence by setting the properties of persistence before connecting to an MQTT broker. The settings are specific to a clientId.</p>
<p>persistence.persistent = YES or NO (default) to establish file or in memory persistence. IMPORTANT: set immediately after creating the <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> before calling any other method. Otherwise the default value (NO) will be used for this session.</p>
<p>persistence.maxWindowSize (a positive number, default is 16) to control the number of messages sent before waiting for acknowledgement in Qos 1 or 2. Additional messages are stored and transmitted later.</p>
<p>persistence.maxSize (a positive number of bytes, default is 64 MB) to limit the size of the persistence file. Messages published after the limit is reached are dropped.</p>
<p>persistence.maxMessages (a positive number, default is 1024) to limit the number of messages stored. Additional messages published are dropped.</p>
<p>Messages are deleted after they have been acknowledged. </p>

</div>
</div>
<a class="anchor" id="a12e20758c5f8a1f0f2bd7dac339fe88f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTProtocolVersion) protocolLevel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a49e106f38faead00b6d9d53a77a50472"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSRunLoop*) runLoop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a3ab2f0926aa51b0dc7969c66bae215e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) runLoopMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a74f593a2857ccf22a5073a71a408e465"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTSSLSecurityPolicy*) securityPolicy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The security policy used to evaluate server trust for secure connections.</p>
<p>if your app using security model which require pinning SSL certificates to helps prevent man-in-the-middle attacks and other vulnerabilities. you need to set securityPolicy to properly value(see MQTTSSLSecurityPolicy.h for more detail).</p>
<p>NOTE: about self-signed server certificates: if your server using Self-signed certificates to establish SSL/TLS connection, you need to set property: MQTTSSLSecurityPolicy.allowInvalidCertificates=YES. </p>

</div>
</div>
<a class="anchor" id="ad0712c44abf0f514feb9462779d3e2b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) sessionPresent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates if the broker found a persistent session when connecting with cleanSession:FALSE </p>

</div>
</div>
<a class="anchor" id="adff1474fe186b8af3bb4cac1ccd4ff2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTSessionStatus) status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Session status </p>

</div>
</div>
<a class="anchor" id="a23cc4596889bf5798bf3749ee0a9e61f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) userName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="aa3227d1cd407e13f1dd694cb352951d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) willFlag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a10be0166d86c90591c40b79923eba9ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSData*) willMsg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="af9cee4ec8306915190b101441f673a71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (MQTTQosLevel) willQoS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a54df13cee1ccaa0bf803304c33a3b237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) willRetainFlag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<a class="anchor" id="a20fd768170dd1d21800420f376d04042"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) willTopic</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>see initWithClientId for description </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_m_q_t_t_session_8h_source.html">MQTTSession.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 8 2015 22:19:22 for MQTTClient by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>

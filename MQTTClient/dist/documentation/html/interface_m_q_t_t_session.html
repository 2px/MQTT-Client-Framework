<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MQTTClient: MQTTSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MQTTClient
   </div>
   <div id="projectbrief">an Objective-C Framework for MQTT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_m_q_t_t_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MQTTSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_m_q_t_t_session_8h_source.html">MQTTSession.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MQTTSession:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_m_q_t_t_session.png" usemap="#MQTTSession_map" alt=""/>
  <map id="MQTTSession_map" name="MQTTSession_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:aee55d52a9b6395f1a0d73b672900629c"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a></td></tr>
<tr class="separator:aee55d52a9b6395f1a0d73b672900629c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e80a9820f69a87a5fd8123c36bb272"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a95e80a9820f69a87a5fd8123c36bb272">initWithClientId:userName:password:keepAlive:cleanSession:will:willTopic:willMsg:willQoS:willRetainFlag:protocolLevel:runLoop:forMode:</a></td></tr>
<tr class="separator:a95e80a9820f69a87a5fd8123c36bb272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c0fc3b9a06d8c5eefa3012591feb82"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a97c0fc3b9a06d8c5eefa3012591feb82">connectToHost:port:usingSSL:</a></td></tr>
<tr class="separator:a97c0fc3b9a06d8c5eefa3012591feb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a24f3468fef52342029c503f1e4f2f"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#ae7a24f3468fef52342029c503f1e4f2f">subscribeToTopic:atLevel:</a></td></tr>
<tr class="separator:ae7a24f3468fef52342029c503f1e4f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1debfec65602b53c6e4b9c3bdf4af1"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#aba1debfec65602b53c6e4b9c3bdf4af1">subscribeToTopics:</a></td></tr>
<tr class="separator:aba1debfec65602b53c6e4b9c3bdf4af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9b75a7232586150cbc348b1262faaf"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a0b9b75a7232586150cbc348b1262faaf">unsubscribeTopic:</a></td></tr>
<tr class="separator:a0b9b75a7232586150cbc348b1262faaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59a9a8f94477a1504178c59fc664cb9"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#ae59a9a8f94477a1504178c59fc664cb9">unsubscribeTopics:</a></td></tr>
<tr class="separator:ae59a9a8f94477a1504178c59fc664cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40cdc30f299f830d6e79f6d96fde604"><td class="memItemLeft" align="right" valign="top">(UInt16)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#ad40cdc30f299f830d6e79f6d96fde604">publishData:onTopic:retain:qos:</a></td></tr>
<tr class="separator:ad40cdc30f299f830d6e79f6d96fde604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e08af5a1b20daabe6be9b9a0618c440"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_q_t_t_session.html#a6e08af5a1b20daabe6be9b9a0618c440">close</a></td></tr>
<tr class="separator:a6e08af5a1b20daabe6be9b9a0618c440"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a1a8eb040c4fd693c218999bae64d1281"><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_q_t_t_session.html#a1a8eb040c4fd693c218999bae64d1281">delegate</a></td></tr>
<tr class="separator:a1a8eb040c4fd693c218999bae64d1281"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Session implements the MQTT protocol for your application </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a6e08af5a1b20daabe6be9b9a0618c440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) close </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>closes an <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> gracefully</p>
<p>If the connection was successfully established before, a DISCONNECT is sent.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line">[session <a class="code" href="interface_m_q_t_t_session.html#a6e08af5a1b20daabe6be9b9a0618c440">close</a>];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a97c0fc3b9a06d8c5eefa3012591feb82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) connectToHost: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>host</em></td>
        </tr>
        <tr>
          <td class="paramkey">port:</td>
          <td></td>
          <td class="paramtype">(UInt32)&#160;</td>
          <td class="paramname"><em>port</em></td>
        </tr>
        <tr>
          <td class="paramkey">usingSSL:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>usingSSL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>connects to the specified MQTT server</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>specifies the hostname or ip address to connect to. Defaults to "localhost". </td></tr>
    <tr><td class="paramname">port</td><td>spefies the port to connect to </td></tr>
    <tr><td class="paramname">usingSSL</td><td>specifies whether to use SSL or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing and returns immediately. To check the connect results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aee55d52a9b6395f1a0d73b672900629c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> *) init </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>initialises the MQTT session with default values </p><dl class="section return"><dt>Returns</dt><dd>the initialised <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> object <div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a95e80a9820f69a87a5fd8123c36bb272"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> *) initWithClientId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>clientId</em></td>
        </tr>
        <tr>
          <td class="paramkey">userName:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>userName</em></td>
        </tr>
        <tr>
          <td class="paramkey">password:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>password</em></td>
        </tr>
        <tr>
          <td class="paramkey">keepAlive:</td>
          <td></td>
          <td class="paramtype">(UInt16)&#160;</td>
          <td class="paramname"><em>keepAliveInterval</em></td>
        </tr>
        <tr>
          <td class="paramkey">cleanSession:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>cleanSessionFlag</em></td>
        </tr>
        <tr>
          <td class="paramkey">will:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>willFlag</em></td>
        </tr>
        <tr>
          <td class="paramkey">willTopic:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>willTopic</em></td>
        </tr>
        <tr>
          <td class="paramkey">willMsg:</td>
          <td></td>
          <td class="paramtype">(NSData *)&#160;</td>
          <td class="paramname"><em>willMsg</em></td>
        </tr>
        <tr>
          <td class="paramkey">willQoS:</td>
          <td></td>
          <td class="paramtype">(UInt8)&#160;</td>
          <td class="paramname"><em>willQoS</em></td>
        </tr>
        <tr>
          <td class="paramkey">willRetainFlag:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>willRetainFlag</em></td>
        </tr>
        <tr>
          <td class="paramkey">protocolLevel:</td>
          <td></td>
          <td class="paramtype">(UInt8)&#160;</td>
          <td class="paramname"><em>protocolLevel</em></td>
        </tr>
        <tr>
          <td class="paramkey">runLoop:</td>
          <td></td>
          <td class="paramtype">(NSRunLoop *)&#160;</td>
          <td class="paramname"><em>runLoop</em></td>
        </tr>
        <tr>
          <td class="paramkey">forMode:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>runLoopMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>initialises the MQTT session</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>The Client Identifier identifies the Client to the Server. If nil, a random clientId is generated.</td></tr>
    <tr><td class="paramname">userName</td><td>an NSString object containing the user's name (or ID) for authentification. May be nil.</td></tr>
    <tr><td class="paramname">password</td><td>an NSString object containing the user's password. If userName is nil, password must be nil as well.</td></tr>
    <tr><td class="paramname">keepAliveInterval</td><td>The Keep Alive is a time interval measured in seconds. The MQTTClient ensures that the interval between Control Packets being sent does not exceed the Keep Alive value. In the absence of sending any other Control Packets, the Client sends a PINGREQ Packet.</td></tr>
    <tr><td class="paramname">cleanSessionFlag</td><td>specifies if the server should discard previous session information.</td></tr>
    <tr><td class="paramname">willFlag</td><td>If the Will Flag is set to YES this indicates that a Will Message MUST be published by the Server when the Server detects that the Client is disconnected for any reason other than the Client flowing a DISCONNECT Packet.</td></tr>
    <tr><td class="paramname">willTopic</td><td>If the Will Flag is set to YES, the Will Topic is a string, nil otherwise.</td></tr>
    <tr><td class="paramname">willMsg</td><td>If the Will Flag is set to YES the Will Message must be specified, nil otherwise.</td></tr>
    <tr><td class="paramname">willQoS</td><td>specifies the QoS level to be used when publishing the Will Message. If the Will Flag is set to NO, then the Will QoS MUST be set to 0. If the Will Flag is set to YES, the value of Will QoS can be 0 (0x00), 1 (0x01), or 2 (0x02).</td></tr>
    <tr><td class="paramname">willRetainFlag</td><td>indicates if the server should publish the Will Messages with retainFlag If the Will Flag is set to NO, then the Will Retain Flag MUST be set to NO . If the Will Flag is set to YES: If Will Retain is set to NO, the Server MUST publish the Will Message as a non-retained publication [MQTT-3.1.2-14]. If Will Retain is set to YES, the Server MUST publish the Will Message as a retained publication [MQTT-3.1.2-15].</td></tr>
    <tr><td class="paramname">protocolLevel</td><td>specifies the protocol to be used. The value of the Protocol Level field for the version 3.1.1 of the protocol is 4. The value for the version 3.1 is 3.</td></tr>
    <tr><td class="paramname">runLoop</td><td>The runLoop where the streams are scheduled. If nil, defaults to [NSRunLoop currentRunLoop].</td></tr>
    <tr><td class="paramname">runLoopMode</td><td>The runLoopMode where the streams are scheduled. If nil, defaults to NSRunLoopCommonModes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the initialised <a class="el" href="interface_m_q_t_t_session.html">MQTTSession</a> object</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NSInternalInconsistencyException</td><td>if the parameters are invalid</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc]</div>
<div class="line">                           initWithClientId:<span class="stringliteral">@&quot;example-1234&quot;</span></div>
<div class="line">                           userName:<span class="stringliteral">@&quot;user&quot;</span></div>
<div class="line">                           password:<span class="stringliteral">@&quot;secret&quot;</span></div>
<div class="line">                           keepAlive:60</div>
<div class="line">                           cleanSession:YES</div>
<div class="line">                           will:YES</div>
<div class="line">                           willTopic:<span class="stringliteral">@&quot;example/status&quot;</span></div>
<div class="line">                           willMsg:[[<span class="stringliteral">@&quot;Client off-line&quot;</span>] dataUsingEncoding:NSUTF8StringEncoding]</div>
<div class="line">                           willQoS:2</div>
<div class="line">                           willRetainFlag:YES</div>
<div class="line">                           protocolLevel:4</div>
<div class="line">                           runLoop:[NSRunLoop currentRunLoop]</div>
<div class="line">                           forMode:NSRunLoopCommonModes];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ad40cdc30f299f830d6e79f6d96fde604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) publishData: </td>
          <td></td>
          <td class="paramtype">(NSData *)&#160;</td>
          <td class="paramname"><em>data</em></td>
        </tr>
        <tr>
          <td class="paramkey">onTopic:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">retain:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>retainFlag</em></td>
        </tr>
        <tr>
          <td class="paramkey">qos:</td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>publishes data on a given topic at a specified QoS level and retain flag</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data to be sent. length may range from 0 to 268,435,455 - 4 - <em>lengthof-topic</em> bytes. Defaults to length 0. </td></tr>
    <tr><td class="paramname">topic</td><td>the Topic to identify the data </td></tr>
    <tr><td class="paramname">retainFlag</td><td>if YES, data is stored on the MQTT broker until overwritten by the next publish with retainFlag = YES </td></tr>
    <tr><td class="paramname">qos</td><td>specifies the Quality of Service for the publish qos can be 0, 1, or 2. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session publishData:[<span class="stringliteral">@&quot;Sample Data&quot;</span> dataUsingEncoding:NSUTF8StringEncoding]</div>
<div class="line">   topic:<span class="stringliteral">@&quot;example/data&quot;</span></div>
<div class="line">   retain:YES</div>
<div class="line">   qos:1];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ae7a24f3468fef52342029c503f1e4f2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) subscribeToTopic: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
        </tr>
        <tr>
          <td class="paramkey">atLevel:</td>
          <td></td>
          <td class="paramtype">(UInt8)&#160;</td>
          <td class="paramname"><em>qosLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribes to a topic at a specific QoS level</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>the Topic Filter to subscribe to.</td></tr>
    <tr><td class="paramname">qosLevel</td><td>specifies the QoS Level of the subscription. qosLevel can be 0, 1, or 2.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the SUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session subscribeToTopic:<span class="stringliteral">@&quot;example/#&quot;</span> atLevel:2];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aba1debfec65602b53c6e4b9c3bdf4af1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) subscribeToTopics: </td>
          <td></td>
          <td class="paramtype">(NSDictionary *)&#160;</td>
          <td class="paramname"><em>topics</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>subscribes a number of topics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>an NSDictionary containing the Topic Filters to subscribe to as keys and the corresponding QoS as NSNumber values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the SUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session subscribeToTopics:@{</div>
<div class="line">   <span class="stringliteral">@&quot;example/#&quot;</span>: @(0),</div>
<div class="line">   <span class="stringliteral">@&quot;example/status&quot;</span>: @(2),</div>
<div class="line">   <span class="stringliteral">@&quot;other/#&quot;</span>: @(1)</div>
<div class="line">}];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a0b9b75a7232586150cbc348b1262faaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) unsubscribeTopic: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>topic</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unsubscribes from a topic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>the Topic Filter to unsubscribe from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session unsubscribeTopic:<span class="stringliteral">@&quot;example/#&quot;</span>];</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ae59a9a8f94477a1504178c59fc664cb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UInt16) unsubscribeTopics: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>topics</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unsubscribes from a number of topics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>an NSArray of topics to unsubscribe from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the Message Identifier of the UNSUBSCRIBE message.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>returns immediately. To check results, register as an <a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a> and watch for events.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] <a class="code" href="interface_m_q_t_t_session.html#aee55d52a9b6395f1a0d73b672900629c">init</a>];</div>
<div class="line"></div>
<div class="line">[session connectToHost:<span class="stringliteral">@&quot;192.168.0.1&quot;</span> port:1883 usingSSL:NO];</div>
<div class="line"></div>
<div class="line">[session unsubscribeTopics:@[</div>
<div class="line">   <span class="stringliteral">@&quot;example/#&quot;</span>,</div>
<div class="line">   <span class="stringliteral">@&quot;example/status&quot;</span>,</div>
<div class="line">   <span class="stringliteral">@&quot;other/#&quot;</span></div>
<div class="line">]];</div>
</div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a1a8eb040c4fd693c218999bae64d1281"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (id&lt;<a class="el" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a>&gt;) delegate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">weak</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set this member variable to receive delegate messages </p><div class="fragment"><div class="line"><span class="preprocessor">#import &quot;MQTTClient.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">@interface </span>MyClass : NSObject &lt;<a class="code" href="protocol_m_q_t_t_session_delegate-p.html">MQTTSessionDelegate</a>&gt;</div>
<div class="line">...</div>
<div class="line"><span class="keyword">@end</span></div>
<div class="line"></div>
<div class="line">...</div>
<div class="line">MQTTSession *session = [[<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> alloc] init];</div>
<div class="line">session.<a class="code" href="interface_m_q_t_t_session.html#a1a8eb040c4fd693c218999bae64d1281">delegate</a> = <span class="keyword">self</span>;</div>
<div class="line">...</div>
<div class="line">- (void)handleEvent:(<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *)session</div>
<div class="line">       <span class="keyword">event</span>:(MQTTSessionEvent)eventCode</div>
<div class="line">       error:(NSError *)error {</div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line">- (void)newMessage:(<a class="code" href="interface_m_q_t_t_session.html">MQTTSession</a> *)session</div>
<div class="line">       data:(NSData *)data</div>
<div class="line">       onTopic:(NSString *)topic</div>
<div class="line">       qos:(<span class="keywordtype">int</span>)qos</div>
<div class="line">       retained:(BOOL)retained</div>
<div class="line">       mid:(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)mid {</div>
<div class="line">   ...</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_m_q_t_t_session_8h_source.html">MQTTSession.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 27 2014 20:51:35 for MQTTClient by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
